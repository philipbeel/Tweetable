/*
 * tweetable 1.6.1 - jQuery twitter feed generator plugin
 *
 * Copyright (c) 2009 Philip Beel (http://www.theodin.co.uk/)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * With modifications from Philipp Robbel (http://www.robbel.com/) and Patrick DW (stackoverflow)
 * for IE compatibility.
 *
 * Revision: $Id: jquery.tweetable.js 2012-06-22 $ 
 *
 */(function(e){jQuery.fn.tweetable=function(e){var t={limit:5,username:"philipbeel",time:!1,rotate:!1,speed:5e3,replies:!1,position:"append",failed:"No tweets available",onComplete:function(e){},html5:!1},e=jQuery.extend(t,e);return this.each(function(e){var n=jQuery(this),r=jQuery('<ul class="tweetList">')[t.position.toLowerCase()+"To"](n),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s="https://api.twitter.com/1/statuses/user_timeline.json?include_entities=false&suppress_response_codes=true&screen_name=",o="&count=",u="&exclude_replies=",a,f,l,c;jQuery.getJSON(s+t.username+o+(t.limit+5)+u+t.replies+"&callback=?",n,function(e){a=e&&e.error||null;if(a){r.append('<li class="tweet_content"><p class="tweet_link">'+t.failed+"</p></li>");return}jQuery.each(e,function(e,n){if(e>=t.limit)return;r.append('<li class="tweet_content_'+e+'"><p class="tweet_link_'+e+'">'+n.text.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2')+"</p></li>");if(t.time===!0){for(l=0;l<=12;l++)i[l]===n.created_at.substr(4,3)&&(f=l+1,f<10&&(f="0"+f));var s=n.created_at.substr(26,4)+"-"+f+"-"+n.created_at.substr(8,2)+"T"+n.created_at.substr(11,8)+"Z";jQuery(".tweet_link_"+e).append('<p class="timestamp"><'+(t.html5?'time datetime="'+s+'"':"small")+"> "+n.created_at.substr(8,2)+"/"+f+"/"+n.created_at.substr(26,4)+", "+n.created_at.substr(11,5)+"</"+(t.html5?"time":"small")+"></p>")}});if(t.rotate===!0){var n=r.find("li"),s=n.length||null,o=0,u=t.speed;if(!s)return;function c(){n.eq(o++).fadeOut(400,function(){o=o===s?0:o,n.eq(o).fadeIn(400)})}n.slice(1).hide(),setInterval(c,u)}t.onComplete(r)})})}})(jQuery);